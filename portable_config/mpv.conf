# ========== 画质设置 ==========
profile=gpu-hq                      # 使用高画质预设
vo=gpu-next                         # 使用新的GPU渲染器（mpv 0.36+）
gpu-api=auto                        # 自动选择最佳GPU API
dither-depth=auto                   # 自动抖动深度
hwdec=auto-safe                     # 自动硬件解码（避免CUDA错误）
video-sync=display-resample         # 视频同步模式
interpolation                       # 启用帧插值（运动补偿）

# ========== 播放控制 ==========
keep-open=always                    # 每个文件播完后暂停
save-position-on-quit=yes           # 退出时保存播放进度

# ========== 音频/字幕 ==========
audio-file-auto=fuzzy               # 自动加载外挂音轨
audio-channels=stereo               # 双声道输出
audio-normalize-downmix=yes         # 规范化降混
volume=100                          # 默认音量

sub-auto=fuzzy                      # 自动加载外挂字幕
alang=ja,en,zh                      # 音轨语言优先级：日语>英语>中文
slang=zh,en,ja                      # 字幕语言优先级：中文>英语>日语

# 字幕样式
sub-font='Noto Sans CJK SC'         # 中文字体
sub-font-size=48
sub-color='#FFFFFF'
sub-border-size=3
sub-border-color='#000000'
sub-shadow-offset=1
sub-shadow-color='#000000'

# 次字幕配置（mpv 0.40+ 内置支持）
# 注意：次字幕样式继承主字幕设置，只能调整位置
secondary-sid=auto                 # 自动选择次字幕轨道
secondary-sub-pos=95               # 位置（0-150，100=屏幕底部）
secondary-sub-visibility=yes       # 默认显示次字幕

# ========== 界面设置 ==========
osc=no                              # 禁用默认OSC控制条
osd-bar=no                          # 禁用OSD进度条
border=no                           # 无窗口边框
autofit-larger=80%x80%              # 窗口最大为屏幕80%
volume-max=200                      # 最大音量200%

# ========== Anime4K画质增强 ==========
# Optimized shaders for higher-end GPU: Mode A+A (HQ)
glsl-shaders="~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Restore_CNN_VL.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_VL.glsl:~~/shaders/Anime4K_Restore_CNN_M.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl"